<%layout('/layout/boilerplate')%>
<body>
  <div id="filters">
    <div class="filter">
      <i class="fa-solid fa-clock"></i>
      <p>Trending</p>
    </div>
    <div class="filter">
      <i class="fa-solid fa-mountain"></i>
      <p>Mountain</p>
    </div>
    <div class="filter">
      <i class="fa-solid fa-clock"></i>
      <p>Trending</p>
    </div>
    <div class="filter">
      <i class="fa-solid fa-tree"></i>
      <p>National park</p>
    </div>
    <div class="filter">
      <i class="fa-solid fa-house"></i>
      <p>Rooms</p>
    </div>
    <div class="filter">
      <i class="fa-solid fa-water"></i>
      <p>lake</p>
    </div>
    <div class="filter">
      <i class="fa-solid fa-umbrella-beach"></i>
      <p>Beach</p>
    </div>
    <div class="filter">
      <i class="fa-solid fa-drum-steelpan"></i>
      <p>Drum</p>
    </div>
    <div class="filter">
      <i class="fa-solid fa-user"></i>
      <p>user</p>
    </div>
    
  <div class="toggle">
    <div class="form-check-reverse form-switch">
      <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
      <label class="form-check-label" for="flexSwitchCheckDefault">Display Total after tax</label>
    </div>
  </div>
  </div>
    <div class="row row-cols-lg-3 row-cols-md-2 row-cols-sm-1">
    <% for(let listing of allListings){ %>
        <a href = "/listing/<%=listing._id%>" class = "removeUnderline">
        <div class="card col">
            <img src="<%=listing.image.url %>" class="card-img-top" alt="connect to network" style="height : 20rem">
            <div class="card-img-overlay"></div>
            <div class="card-body">
              <h5 class="card-title"><%=listing.title%></h5>
              <p class="card-text"> &#8377 <%= listing.price.toLocaleString('en-IN') %> /night
              <i class="info-tax">&nbsp; +18% GST</i></p> 
            </div>
          </div>    
        </a>
  <% }  %>
</div>
</body>

<script>
  let toggle = document.getElementById("flexSwitchCheckDefault");
  let taxToggle = document.getElementsByClassName("info-tax");
  toggle.addEventListener('click' , ()=>{
    for(info of taxToggle){
      if(info.style.display !='inline'){
        info.style.display="inline";
      }
      else{
        info.style.display="none";
      }
    }
  })
</script>